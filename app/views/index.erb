<div class="container mt-2">
  <form method='post' action= '/api_validate'>
    <div class="form-group">
      <label for="exampleInputEmail1">Account Number</label>
      <input type="number" class="form-control" id="account_number" placeholder="Enter Account Number" required name="account_number">
      <small id="emailHelp" class="form-text text-muted">Add Your Maropost Account Number</small>
    </div>
    <div class="form-group">
      <label for="auth_token">Authentication Token</label>
      <input type="text" class="form-control" id="auth_token" placeholder="Auth Token" required name="auth_token">
      <small  class="form-text text-muted">Add Your Maropost Authentication Token</small>
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="inputGroupSelect01">Module Name</label>
      </div>
      <select class="custom-select" id="inputGroupSelect01" name="module_name">
        <option value="Campaigns">Campaigns</option>
        <option value="AbTestCampaigns">AB Test Campaigns</option>
        <option value="TransactionalCampaigns">Transactional Campaigns</option>
        <option value="Contacts">Contacts</option>
        <option value="Journeys">Journeys</option>
        <option value="ProductsAndRevenue">Products and Revenue</option>
        <option value="RelationalTableRows">Relational Table Rows</option>
        <option value="Reports">Reports</option>
      </select>
    </div>
    <div class="form-group">
      <label for="method_name">Method Name</label>
      <input type="text" class="form-control" id="auth_token" placeholder="Method Name" required name="method_name">
      <small  class="form-text text-muted">Enter method name</small>
    </div>

    <div class="form-group">
       <label for="exampleFormControlTextarea1">Test case</label>
       <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name='test_case' required></textarea>
    </div>
    <div class="row">
      <div class="col-md-10">
        <h2> Attributes </h2>
      </div>
      <div class="col-md-2">
        <a  id="add_attribute" class="float-right btn btn-success">Add Attribute</a>
      </div>
    </div>
    <div class="add_attribute">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>
<script>
  $("#add_attribute").click(function(){
    $(".add_attribute").append(`<div class="form-row mb-2">
      <div class="col">
        <input type="text" class="form-control" placeholder="Attribute Name" name="attributes[attribute_name][]" required>
      </div>
      <div class="col">
        <select class="custom-select" id="inputGroupSelect01" name="attributes[data_type][]">
          <option value="integer">Integer</option>
          <option value="string">String</option>
          <option value="array">Array</option>
          <option value="hash">Hash</option>
        </select>
      </div>
      <div class="col">
        <input type="text" class="form-control" placeholder="value" name="attributes[value][]" required>
      </div>
      <a class="delete_attribute btn btn-success float-right" onclick="delete_attribute(this)">Delete Attribute</a>
    </div>`);
  });

function delete_attribute(obj){
  $(obj).parent().remove();
}

</script>
